{
  "version": 3,
  "sources": ["../../../../Downloads/edumaster40-main/netlify/functions/verify-token.js"],
  "sourceRoot": "C:/Users/suraj/AppData/Local/Temp/tmp-14584-h7evfNMSpQy0",
  "sourcesContent": ["// Netlify function to proxy token verification requests\nexports.handler = async (event, context) => {\n  // Handle preflight requests\n  if (event.httpMethod === 'OPTIONS') {\n    return {\n      statusCode: 200,\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers': 'Content-Type',\n        'Access-Control-Allow-Methods': 'GET, OPTIONS',\n        'Access-Control-Max-Age': '86400'\n      },\n      body: ''\n    };\n  }\n  \n  try {\n    // Get the token from query parameters\n    const { token } = event.queryStringParameters || {};\n    \n    if (!token) {\n      return {\n        statusCode: 400,\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        },\n        body: JSON.stringify({ \n          valid: false, \n          message: 'Token parameter is required' \n        })\n      };\n    }\n    \n    // Log the request for debugging\n    console.log('Verifying token:', token);\n    \n    // Forward the request to the Telegram bot API\n    const apiUrl = `https://competitive-karly-edumastersuraj-75acc2f2.koyeb.app/verify-token?token=${encodeURIComponent(token)}`;\n    \n    const response = await fetch(apiUrl, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'User-Agent': 'Netlify-Function-Proxy/1.0'\n      }\n    });\n    \n    // Get response data\n    const data = await response.json();\n    \n    // Log the response for debugging\n    console.log('Token verification response:', response.status, data);\n    \n    return {\n      statusCode: response.status,\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      },\n      body: JSON.stringify(data)\n    };\n  } catch (error) {\n    console.error('Token verification error:', error);\n    \n    return {\n      statusCode: 500,\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      },\n      body: JSON.stringify({ \n        valid: false, \n        message: 'Internal server error: ' + error.message \n      })\n    };\n  }\n};"],
  "mappings": ";AACA,QAAQ,UAAU,OAAO,OAAO,YAAY;AAE1C,MAAI,MAAM,eAAe,WAAW;AAClC,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS;AAAA,QACP,+BAA+B;AAAA,QAC/B,gCAAgC;AAAA,QAChC,gCAAgC;AAAA,QAChC,0BAA0B;AAAA,MAC5B;AAAA,MACA,MAAM;AAAA,IACR;AAAA,EACF;AAEA,MAAI;AAEF,UAAM,EAAE,MAAM,IAAI,MAAM,yBAAyB,CAAC;AAElD,QAAI,CAAC,OAAO;AACV,aAAO;AAAA,QACL,YAAY;AAAA,QACZ,SAAS;AAAA,UACP,gBAAgB;AAAA,UAChB,+BAA+B;AAAA,QACjC;AAAA,QACA,MAAM,KAAK,UAAU;AAAA,UACnB,OAAO;AAAA,UACP,SAAS;AAAA,QACX,CAAC;AAAA,MACH;AAAA,IACF;AAGA,YAAQ,IAAI,oBAAoB,KAAK;AAGrC,UAAM,SAAS,kFAAkF,mBAAmB,KAAK,CAAC;AAE1H,UAAM,WAAW,MAAM,MAAM,QAAQ;AAAA,MACnC,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,cAAc;AAAA,MAChB;AAAA,IACF,CAAC;AAGD,UAAM,OAAO,MAAM,SAAS,KAAK;AAGjC,YAAQ,IAAI,gCAAgC,SAAS,QAAQ,IAAI;AAEjE,WAAO;AAAA,MACL,YAAY,SAAS;AAAA,MACrB,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,+BAA+B;AAAA,MACjC;AAAA,MACA,MAAM,KAAK,UAAU,IAAI;AAAA,IAC3B;AAAA,EACF,SAAS,OAAO;AACd,YAAQ,MAAM,6BAA6B,KAAK;AAEhD,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,+BAA+B;AAAA,MACjC;AAAA,MACA,MAAM,KAAK,UAAU;AAAA,QACnB,OAAO;AAAA,QACP,SAAS,4BAA4B,MAAM;AAAA,MAC7C,CAAC;AAAA,IACH;AAAA,EACF;AACF;",
  "names": []
}
